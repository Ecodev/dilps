<div class="containerWithToolbar" fxLayout="column">
    <mat-toolbar fxFlex="none" color="app" fxLayout="row" fxLayoutAlign="start center">
        <img src="assets/images/logo-blanc.svg" style="max-width:100%;height:30px;" />
        <div fxFlex></div>
        <button mat-icon-button color="warn" (click)="confirmDelete()">
            <mat-icon>delete_forever</mat-icon>
        </button>
    </mat-toolbar>

    <div fxLayout="row" fxLayoutAlign="center">

        <form fxFlex="400px" fxLayout="column" fxLayoutAlign="start stretch" class="padding" #userForm="ngForm" (ngSubmit)="onSubmit()">

            <div fxLayout="column" fxLayoutGap="10px">

                <mat-form-field class="width-auto" matTooltip="L'identifiant de connexion ne peut pas être modifié">
                    <input matInput [disabled]="!!data.id" name="login" placeholder="Login" [(ngModel)]="data.login" >
                </mat-form-field>

                <mat-form-field>
                    <input matInput type="email" name="email" placeholder="Email" [(ngModel)]="data.email" >
                </mat-form-field>

                <app-select [service]="institutionSvc" [(model)]="data.institution" placeholder="Institution"></app-select>

                <mat-form-field>
                    <input matInput name="activeUntil" placeholder="Active jusqu'au" [(ngModel)]="data.activeUntil" [matDatepicker]="picker" >
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>

                <mat-form-field *ngIf="data.id">
                    <input matInput disabled name="termsAgreement" placeholder="Licence" [(ngModel)]="data.termsAgreement"  [matDatepicker]="picker2" >
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>

                <mat-form-field *ngIf="data.id">
                    <input matInput disabled name="type" placeholder="Type d'utilisateur" [(ngModel)]="data.type" >
                </mat-form-field>

                <button type="submit" mat-raised-button color="primary" [disabled]="!userForm.form.valid">Sauver</button>
            </div>
        </form>

    </div>
</div>
