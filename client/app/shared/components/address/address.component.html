<div fxLayout="column" [fxLayoutGap]="vertical ? '0px' : '10px'">
    <mat-form-field *ngIf="!readonly || !!model?.street">
        <input matInput [readonly]="readonly" name="street" placeholder="Rue" [(ngModel)]="model.street" (keyup.enter)="search()" >
    </mat-form-field>

    <div [fxLayout]="vertical ? 'column': 'row'" [fxLayoutGap]="vertical ? '0px' : '10px'">
        <mat-form-field *ngIf="!readonly || !!model?.postcode">
            <input matInput [readonly]="readonly" name="postcode" placeholder="NPA" [(ngModel)]="model.postcode" (keyup.enter)="search()"
            >
        </mat-form-field>
        <mat-form-field [fxFlex]="!vertical"
                        *ngIf="!readonly || !!model?.locality"
        >
            <input matInput
                   [readonly]="readonly"
                   name="locality"
                   placeholder="LocalitÃ©"
                   [(ngModel)]="model.locality"
                   (keyup.enter)="search()"
            >
        </mat-form-field>

        <app-select *ngIf="countries && (!readonly || !!model?.postcode)"
                    [items]="countries"
                    [(model)]="model.country"
                    [showIcon]="false"
                    (keyup.enter)="search()"
                    placeholder="Pays"
                    [autoActiveFirstOption]="true"
                    [readonly]="readonly"
        ></app-select>
    </div>
</div>

<div id="mapZone">
    <mat-form-field id="search"
                    class="mat-elevation-z4"
                    floatLabel="never" [fxShow]="!readonly"
    >
        <input matInput
               placeholder="Chercher"
               autocorrect="off"
               autocapitalize="off"
               spellcheck="off"
               type="text"
               class="form-control"
               #input
               [formControl]="formCtrl"
        >
    </mat-form-field>

    <!-- Map -->
    <agm-map [latitude]="model?.latitude"
             [longitude]="model?.longitude"
             [zoom]="zoom"
             [styles]="mapStyles"
             [scrollwheel]="false"
             *ngIf="!readonly || (!!model?.latitude && !!model?.longitude)"
             style="height:300px;"
    >
        <agm-marker [latitude]="model?.latitude"
                    [longitude]="model?.longitude"
                    [markerDraggable]="!readonly"
                    (dragEnd)="onMarkerDrag($event)"
                    [iconUrl]="icon"
        ></agm-marker>
    </agm-map>

</div>
