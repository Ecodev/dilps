<div fxFlexFill>

    <mat-sidenav-container #navContainer fxFlex fxLayout="column">
        <mat-sidenav *ngIf="initialized" id="menu" align="start" mode="side" opened="true" class="menuMinimized">
            <div fxFlex fxLayout="row" fxFlexAlign="start center">
                <div fxLayout="column" >
                    <mat-nav-list fxFlex>
                        <!-- Dashboard -->
                        <a mat-list-item routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                            <mat-icon mat-list-icon>home</mat-icon>
                            <span matLine>Accueil</span>
                        </a>

                        <!-- Collections publiques -->
                        <a mat-list-item routerLink="/collection" routerLinkActive="active" matTooltipPosition="after" matTooltip="Collections publiques">
                            <mat-icon mat-list-icon>collections</mat-icon>
                        </a>

                        <!-- Mes collections -->
                        <!--<a mat-list-item routerLink="/my-collection" routerLinkActive="active" matTooltipPosition="after" matTooltip="Mes collections">-->
                            <!--<mat-icon mat-list-icon>collections_bookmark</mat-icon>-->
                        <!--</a>-->

                        <!-- Users -->
                        <!--<a mat-list-item routerLink="/user" routerLinkActive="active" matTooltipPosition="after" matTooltip="Liste des utilisateurs">-->
                            <!--<mat-icon mat-list-icon>group</mat-icon>-->
                        <!--</a>-->

                        <!-- Account -->
                        <!--<a mat-list-item routerLink="/profile" routerLinkActive="active" matTooltipPosition="after" matTooltip="Mon compte">-->
                            <!--<mat-icon mat-list-icon>account_circle</mat-icon>-->
                        <!--</a>-->

                        <!-- Logout -->
                        <a mat-list-item (click)="userSvc.logout()" matTooltipPosition="after" matTooltip="Se dÃ©connecter">
                            <mat-icon mat-list-icon>exit_to_app</mat-icon>
                        </a>
                    </mat-nav-list>

                    <!-- Bottom nav -->

                    <a mat-icon-button mat-raised-button [matMenuTriggerFor]="errorsMenu" color="warn" *ngIf="errors.length" style="margin:0 11px">
                        <mat-icon>error</mat-icon>
                    </a>

                    <!--<mat-nav-list>-->
                        <!--&lt;!&ndash; Theme &ndash;&gt;-->
                        <!--<a mat-list-item (click)="themeSvc.toggle()">-->
                            <!--<mat-icon mat-list-icon>invert_colors</mat-icon>-->
                            <!--<span matLine>Changer couleurs</span>-->
                        <!--</a>-->
                    <!--</mat-nav-list>-->
                </div>
            </div>
        </mat-sidenav>

        <div id="appBody" fxFlex fxLayout="column">
            <router-outlet (activate)="initialized = true"></router-outlet>
        </div>

    </mat-sidenav-container>

</div>

<mat-menu #errorsMenu="matMenu" [overlapTrigger]="false" class="padding error-menu" fxLayout="column" fxLayoutGap="60px">
    <div mat-menu-item *ngFor="let error of errors" fxLayout="column" class="error">
        <span class="mat-caption" style="font-weight:bold">{{ error.category }}</span>
        <span class="mat-caption">{{ error.message }}</span>
        <span class="mat-caption">{{ error.debugMessage }}</span>
    </div>
    <button mat-menu-item (click)="errors = []">
        <mat-icon>close</mat-icon> Masquer
    </button>
</mat-menu>
