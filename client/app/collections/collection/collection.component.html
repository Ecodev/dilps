<mat-dialog-content>
    <mat-tab-group>
        <mat-tab label="Collection">

            <div fxLayout="column" class="padding" fxLayoutGap="10px" class="padding-v">

                <div class="innerSpacing" fxLayout="column" style="max-width:300px" *ngIf="showVisibility()">
                    <div fxLayout="row">Visible {{ visibilities[visibility].text }}</div>
                    <mat-slider [min]="1"
                                [max]="3"
                                [ngModel]="visibility"
                                (input)="updateVisibility($event);visibility = $event.value"
                                [color]="visibilities[visibility] ? visibilities[visibility].color : null"
                    ></mat-slider>
                </div>

                <mat-form-field>
                    <input matInput [(ngModel)]="data.item.name" placeholder="Nom" >
                </mat-form-field>

                <mat-form-field>
                    <input matInput [(ngModel)]="data.item.description" placeholder="Description" >
                </mat-form-field>

                <app-thesaurus [service]="institutionSvc"
                               placeholder="Institution"
                               [model]="data.item.institution"
                               (modelChange)="data.item.institution = $event"
                               [multiple]="false"
                ></app-thesaurus>

                <mat-slide-toggle [(ngModel)]="data.item.isSource" *ngIf="user?.role == 'administrator'">Est un fonds</mat-slide-toggle>
            </div>

        </mat-tab>
    </mat-tab-group>
</mat-dialog-content>

<mat-dialog-actions>
    <app-dialog-footer fxFlex
                       [canCreate]="user?.globalPermissions?.collection?.create"
                       [item]="data.item"
                       (create)="create()"
                       (update)="update()"
                       (delete)="delete()"
    ></app-dialog-footer>
</mat-dialog-actions>
